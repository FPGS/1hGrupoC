[gd_scene load_steps=36 format=2]

[ext_resource path="res://personaje/animacion/quieto/Idle (1).png" type="Texture" id=1]
[ext_resource path="res://personaje/animacion/quieto/Idle (2).png" type="Texture" id=2]
[ext_resource path="res://personaje/animacion/quieto/Idle (3).png" type="Texture" id=3]
[ext_resource path="res://personaje/animacion/quieto/Idle (4).png" type="Texture" id=4]
[ext_resource path="res://personaje/animacion/quieto/Idle (5).png" type="Texture" id=5]
[ext_resource path="res://personaje/animacion/quieto/Idle (6).png" type="Texture" id=6]
[ext_resource path="res://personaje/animacion/quieto/Idle (7).png" type="Texture" id=7]
[ext_resource path="res://personaje/animacion/quieto/Idle (8).png" type="Texture" id=8]
[ext_resource path="res://personaje/animacion/quieto/Idle (9).png" type="Texture" id=9]
[ext_resource path="res://personaje/animacion/quieto/Idle (10).png" type="Texture" id=10]
[ext_resource path="res://personaje/animacion/muerto/Dead (1).png" type="Texture" id=11]
[ext_resource path="res://personaje/animacion/muerto/Dead (2).png" type="Texture" id=12]
[ext_resource path="res://personaje/animacion/muerto/Dead (3).png" type="Texture" id=13]
[ext_resource path="res://personaje/animacion/muerto/Dead (4).png" type="Texture" id=14]
[ext_resource path="res://personaje/animacion/muerto/Dead (5).png" type="Texture" id=15]
[ext_resource path="res://personaje/animacion/muerto/Dead (6).png" type="Texture" id=16]
[ext_resource path="res://personaje/animacion/muerto/Dead (7).png" type="Texture" id=17]
[ext_resource path="res://personaje/animacion/muerto/Dead (8).png" type="Texture" id=18]
[ext_resource path="res://prota.gd" type="Script" id=19]
[ext_resource path="res://Atake_per1.gd" type="Script" id=20]
[ext_resource path="res://Magia_per1.gd" type="Script" id=21]
[ext_resource path="res://assets/GUI/label_HP_bg.png" type="Texture" id=22]
[ext_resource path="res://assets/GUI/label_HP.png" type="Texture" id=23]
[ext_resource path="res://assets/font/Comfortaa-Bold.ttf" type="DynamicFontData" id=24]
[ext_resource path="res://assets/GUI/lifebar_bg.png" type="Texture" id=25]
[ext_resource path="res://assets/GUI/lifebar_fill.png" type="Texture" id=26]
[ext_resource path="res://assets/GUI/label_EP.png" type="Texture" id=27]
[ext_resource path="res://assets/GUI/energy_bar_bg.png" type="Texture" id=28]
[ext_resource path="res://assets/GUI/energy_bar_fill.png" type="Texture" id=29]
[ext_resource path="res://enemigo.gd" type="Script" id=30]
[ext_resource path="res://enemigo_2.gd" type="Script" id=31]

[sub_resource type="SpriteFrames" id=1]
animations = [ {
"frames": [ ExtResource( 1 ), ExtResource( 2 ), ExtResource( 3 ), ExtResource( 4 ), ExtResource( 5 ), ExtResource( 6 ), ExtResource( 7 ), ExtResource( 8 ), ExtResource( 9 ), ExtResource( 10 ) ],
"loop": true,
"name": "default",
"speed": 10.0
}, {
"frames": [ ExtResource( 11 ), ExtResource( 12 ), ExtResource( 13 ), ExtResource( 14 ), ExtResource( 15 ), ExtResource( 16 ), ExtResource( 17 ), ExtResource( 18 ) ],
"loop": false,
"name": "death",
"speed": 5.0
} ]

[sub_resource type="DynamicFont" id=2]
size = 28
extra_spacing_bottom = 8
font_data = ExtResource( 24 )

[sub_resource type="DynamicFont" id=3]
size = 18
extra_spacing_bottom = -3
font_data = ExtResource( 24 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 50, 50 )

[node name="Node2D" type="Node2D"]

[node name="prota" type="AnimatedSprite" parent="." groups=[
"algo",
]]
editor/display_folded = true
position = Vector2( 180.782, 493.815 )
scale = Vector2( 0.25, 0.25 )
frames = SubResource( 1 )
frame = 5
playing = true
script = ExtResource( 19 )

[node name="menu_accion" type="Container" parent="prota"]
margin_left = 95.4714
margin_top = -117.838
margin_right = 395.471
margin_bottom = 2.66211
rect_scale = Vector2( 3, 3 )

[node name="ataque" type="MenuButton" parent="prota/menu_accion"]
margin_right = 100.0
margin_bottom = 40.0
grow_horizontal = 0
grow_vertical = 0
focus_mode = 1
mouse_default_cursor_shape = 2
size_flags_stretch_ratio = 47.34
custom_constants/hseparation = 0
toggle_mode = true
shortcut_in_tooltip = false
enabled_focus_mode = 1
text = "Ataque"
flat = false
align = 0
switch_on_hover = true
script = ExtResource( 20 )

[node name="PopupMenu2" type="PopupMenu" parent="prota/menu_accion/ataque"]
margin_left = -300.0
margin_top = -420.0
margin_right = -280.0
margin_bottom = -400.0

[node name="magia" type="MenuButton" parent="prota/menu_accion"]
margin_left = 100.0
margin_right = 200.0
margin_bottom = 39.0
toggle_mode = true
text = "Magia"
flat = false
align = 0
script = ExtResource( 21 )

[node name="PopupMenu2" type="PopupMenu" parent="prota/menu_accion/magia"]
margin_right = 20.0
margin_bottom = 20.0

[node name="otro" type="MenuButton" parent="prota/menu_accion"]
margin_left = 200.0
margin_right = 300.0
margin_bottom = 39.0
text = "defensa"
flat = false
align = 0

[node name="valores_aliados" type="MarginContainer" parent="prota"]
editor/display_folded = true
margin_left = -668.391
margin_top = 231.061
margin_right = 172.609
margin_bottom = 293.061
rect_scale = Vector2( 2, 2 )

[node name="constantes" type="HBoxContainer" parent="prota/valores_aliados"]
margin_right = 841.0
margin_bottom = 62.0

[node name="vida" type="VBoxContainer" parent="prota/valores_aliados/constantes"]
margin_right = 500.0
margin_bottom = 62.0

[node name="barra1" type="HBoxContainer" parent="prota/valores_aliados/constantes/vida"]
margin_right = 500.0
margin_bottom = 53.0

[node name="contenedor" type="MarginContainer" parent="prota/valores_aliados/constantes/vida/barra1"]
margin_right = 100.0
margin_bottom = 53.0

[node name="fondo" type="NinePatchRect" parent="prota/valores_aliados/constantes/vida/barra1/contenedor"]
margin_right = 100.0
margin_bottom = 53.0
rect_min_size = Vector2( 100, 40 )
texture = ExtResource( 22 )

[node name="tipo" type="TextureRect" parent="prota/valores_aliados/constantes/vida/barra1/contenedor/fondo"]
margin_right = 50.0
margin_bottom = 53.0
texture = ExtResource( 23 )
stretch_mode = 4

[node name="valor" type="Label" parent="prota/valores_aliados/constantes/vida/barra1/contenedor/fondo"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = SubResource( 2 )
text = "10"
align = 2
valign = 2

[node name="PS" type="TextureProgress" parent="prota/valores_aliados/constantes/vida/barra1"]
margin_left = 104.0
margin_right = 500.0
margin_bottom = 53.0
value = 50.0
texture_under = ExtResource( 25 )
texture_progress = ExtResource( 26 )

[node name="magia" type="VBoxContainer" parent="prota/valores_aliados/constantes"]
margin_left = 504.0
margin_right = 833.0
margin_bottom = 62.0

[node name="barra2" type="HBoxContainer" parent="prota/valores_aliados/constantes/magia"]
margin_right = 329.0
margin_bottom = 53.0

[node name="contenedor" type="MarginContainer" parent="prota/valores_aliados/constantes/magia/barra2"]
margin_right = 75.0
margin_bottom = 53.0
rect_min_size = Vector2( 75, 53 )

[node name="fondo" type="NinePatchRect" parent="prota/valores_aliados/constantes/magia/barra2/contenedor"]
margin_right = 75.0
margin_bottom = 53.0
texture = ExtResource( 22 )

[node name="tipo" type="TextureRect" parent="prota/valores_aliados/constantes/magia/barra2/contenedor/fondo"]
margin_right = 50.0
margin_bottom = 53.0
texture = ExtResource( 27 )
stretch_mode = 4

[node name="valor" type="Label" parent="prota/valores_aliados/constantes/magia/barra2/contenedor/fondo"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = SubResource( 3 )
text = "50"
align = 2
valign = 1

[node name="PM" type="TextureProgress" parent="prota/valores_aliados/constantes/magia/barra2"]
margin_left = 79.0
margin_right = 329.0
margin_bottom = 53.0
rect_min_size = Vector2( 250, 0 )
value = 10.0
texture_under = ExtResource( 28 )
texture_progress = ExtResource( 29 )

[node name="potis" type="HBoxContainer" parent="prota/valores_aliados"]
margin_right = 841.0
margin_bottom = 62.0

[node name="enemigo" type="AnimatedSprite" parent="."]
editor/display_folded = true
position = Vector2( 837.753, 501.217 )
scale = Vector2( 0.25, 0.25 )
frames = SubResource( 1 )
frame = 5
playing = true
flip_h = true
script = ExtResource( 30 )

[node name="valores_enemigos" type="MarginContainer" parent="enemigo"]
margin_left = -1160.67
margin_top = 243.253
margin_right = -319.67
margin_bottom = 305.253
rect_scale = Vector2( 2, 2 )

[node name="constantes" type="HBoxContainer" parent="enemigo/valores_enemigos"]
margin_right = 841.0
margin_bottom = 61.0

[node name="vida" type="VBoxContainer" parent="enemigo/valores_enemigos/constantes"]
margin_right = 500.0
margin_bottom = 61.0

[node name="barra1" type="HBoxContainer" parent="enemigo/valores_enemigos/constantes/vida"]
margin_right = 500.0
margin_bottom = 53.0

[node name="contenedor" type="MarginContainer" parent="enemigo/valores_enemigos/constantes/vida/barra1"]
margin_right = 100.0
margin_bottom = 53.0

[node name="fondo" type="NinePatchRect" parent="enemigo/valores_enemigos/constantes/vida/barra1/contenedor"]
margin_right = 100.0
margin_bottom = 53.0
rect_min_size = Vector2( 100, 40 )
texture = ExtResource( 22 )

[node name="tipo" type="TextureRect" parent="enemigo/valores_enemigos/constantes/vida/barra1/contenedor/fondo"]
margin_right = 50.0
margin_bottom = 53.0
texture = ExtResource( 23 )
stretch_mode = 4

[node name="valor" type="Label" parent="enemigo/valores_enemigos/constantes/vida/barra1/contenedor/fondo"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = SubResource( 2 )
text = "10"
align = 2
valign = 2

[node name="PS" type="TextureProgress" parent="enemigo/valores_enemigos/constantes/vida/barra1"]
margin_left = 104.0
margin_right = 500.0
margin_bottom = 53.0
value = 50.0
texture_under = ExtResource( 25 )
texture_progress = ExtResource( 26 )

[node name="magia" type="VBoxContainer" parent="enemigo/valores_enemigos/constantes"]
visible = false
margin_left = 504.0
margin_right = 756.0
margin_bottom = 61.0

[node name="barra2" type="HBoxContainer" parent="enemigo/valores_enemigos/constantes/magia"]
margin_right = 252.0
margin_bottom = 40.0

[node name="contenedor" type="MarginContainer" parent="enemigo/valores_enemigos/constantes/magia/barra2"]
margin_bottom = 40.0

[node name="fondo" type="NinePatchRect" parent="enemigo/valores_enemigos/constantes/magia/barra2/contenedor"]
margin_bottom = 40.0
texture = ExtResource( 22 )

[node name="tipo" type="TextureRect" parent="enemigo/valores_enemigos/constantes/magia/barra2/contenedor/fondo"]
margin_right = 50.0
margin_bottom = 40.0
texture = ExtResource( 27 )
stretch_mode = 4

[node name="valor" type="Label" parent="enemigo/valores_enemigos/constantes/magia/barra2/contenedor/fondo"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = SubResource( 3 )
text = "50"
align = 2
valign = 1

[node name="PM" type="TextureProgress" parent="enemigo/valores_enemigos/constantes/magia/barra2"]
margin_left = 4.0
margin_right = 252.0
margin_bottom = 40.0
value = 75.0
texture_under = ExtResource( 28 )
texture_progress = ExtResource( 29 )

[node name="potis" type="HBoxContainer" parent="enemigo/valores_enemigos"]
margin_right = 841.0
margin_bottom = 61.0

[node name="enemigo_2" type="Area2D" parent="." groups=[
"algo",
]]
position = Vector2( 831.614, 270 )
space_override = 1
script = ExtResource( 31 )

[node name="enemigo_3" type="AnimatedSprite" parent="enemigo_2"]
editor/display_folded = true
scale = Vector2( 0.25, 0.25 )
frames = SubResource( 1 )
frame = 5
playing = true
flip_h = true
script = ExtResource( 30 )

[node name="valores_enemigos" type="MarginContainer" parent="enemigo_2/enemigo_3"]
margin_left = -1160.67
margin_top = 243.253
margin_right = -319.67
margin_bottom = 305.253
rect_scale = Vector2( 2, 2 )

[node name="constantes" type="HBoxContainer" parent="enemigo_2/enemigo_3/valores_enemigos"]
margin_right = 841.0
margin_bottom = 61.0

[node name="vida" type="VBoxContainer" parent="enemigo_2/enemigo_3/valores_enemigos/constantes"]
margin_right = 500.0
margin_bottom = 61.0

[node name="barra1" type="HBoxContainer" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/vida"]
margin_right = 500.0
margin_bottom = 53.0

[node name="contenedor" type="MarginContainer" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/vida/barra1"]
margin_right = 100.0
margin_bottom = 53.0

[node name="fondo" type="NinePatchRect" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/vida/barra1/contenedor"]
margin_right = 100.0
margin_bottom = 53.0
rect_min_size = Vector2( 100, 40 )
texture = ExtResource( 22 )

[node name="tipo" type="TextureRect" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/vida/barra1/contenedor/fondo"]
margin_right = 50.0
margin_bottom = 53.0
texture = ExtResource( 23 )
stretch_mode = 4

[node name="valor" type="Label" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/vida/barra1/contenedor/fondo"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = SubResource( 2 )
text = "10"
align = 2
valign = 2

[node name="PS" type="TextureProgress" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/vida/barra1"]
margin_left = 104.0
margin_right = 500.0
margin_bottom = 53.0
value = 50.0
texture_under = ExtResource( 25 )
texture_progress = ExtResource( 26 )

[node name="magia" type="VBoxContainer" parent="enemigo_2/enemigo_3/valores_enemigos/constantes"]
visible = false
margin_left = 504.0
margin_right = 756.0
margin_bottom = 61.0

[node name="barra2" type="HBoxContainer" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/magia"]
margin_right = 252.0
margin_bottom = 40.0

[node name="contenedor" type="MarginContainer" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/magia/barra2"]
margin_bottom = 40.0

[node name="fondo" type="NinePatchRect" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/magia/barra2/contenedor"]
margin_bottom = 40.0
texture = ExtResource( 22 )

[node name="tipo" type="TextureRect" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/magia/barra2/contenedor/fondo"]
margin_right = 50.0
margin_bottom = 40.0
texture = ExtResource( 27 )
stretch_mode = 4

[node name="valor" type="Label" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/magia/barra2/contenedor/fondo"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_fonts/font = SubResource( 3 )
text = "50"
align = 2
valign = 1

[node name="PM" type="TextureProgress" parent="enemigo_2/enemigo_3/valores_enemigos/constantes/magia/barra2"]
margin_left = 4.0
margin_right = 252.0
margin_bottom = 40.0
value = 75.0
texture_under = ExtResource( 28 )
texture_progress = ExtResource( 29 )

[node name="potis" type="HBoxContainer" parent="enemigo_2/enemigo_3/valores_enemigos"]
margin_right = 841.0
margin_bottom = 61.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="enemigo_2"]
position = Vector2( 30, 0 )
shape = SubResource( 4 )

[connection signal="turno_enemigo" from="prota" to="enemigo" method="turno_enemigo"]
[connection signal="atk_esp" from="prota/menu_accion/ataque" to="prota" method="_on_MenuButton_atk_esp"]
[connection signal="atk_magia_1" from="prota/menu_accion/magia" to="prota" method="_on_MenuButton2_atk_magia_1"]
[connection signal="cambiar_objetibo" from="enemigo_2" to="prota" method="cambiar_objetibo"]
